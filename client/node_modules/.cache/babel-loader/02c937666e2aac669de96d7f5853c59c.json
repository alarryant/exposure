{"ast":null,"code":"import _defineProperty from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/vagrant/week8/exposure/exposure-final/src/Profile.jsx\";\nimport React from 'react';\nimport Portfolio from './components/Portfolio';\nimport EditPortfolio from './components/Profile_Portfolio_Edit';\nimport Avatar from './components/Avatar.jsx';\nimport Slider from \"react-slick\";\nimport axios from 'axios';\nimport SocialMedia from './components/Profile_SocialMedia.jsx';\nimport EditSocialMedia from './components/Profile_SocialMedia_Edit';\nimport ProfileDesc from './components/Profile_Desc.jsx';\nimport EditProfileDesc from './components/Profile_Desc_Edit.jsx';\nimport ReviewsCard from './components/Profile_Reviews.jsx';\nimport AvailabilityCard from './components/Profile_Availability.jsx';\nimport PackagesCard from './components/Profile_Packages.jsx';\nimport EditPackagesCard from './components/Profile_Packages_Edit.jsx';\nimport StarPhotographer from './components/Profile_Star.jsx';\nimport AddReview from './components/AddReview.jsx';\nimport OpportunitiesApplied from './Opportunities_Applied';\nimport Statistics from './components/Statistics';\nimport './styles/Profile.css';\nimport './styles/SearchResults.css';\n\nfunction MailButton(props) {\n  return React.createElement(\"button\", {\n    className: \"contactMe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"mailto:\".concat(props.email, \"?subject=\").concat(props.name, \" would like to book you for a photoshoot.\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"Contact Me\"));\n}\n\nvar Profile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n\n    _this.sendSocialMediaForm = function (socialmedia) {\n      if (!socialmedia.twitter) {\n        socialmedia.twitter = 'null';\n      } else if (!socialmedia.facebook) {\n        socialmedia.facebook = 'null';\n      } else if (!socialmedia.instagram) {\n        socialmedia.instagram = 'null';\n      } else if (!socialmedia.website) {\n        socialmedia.website = 'null';\n      }\n\n      _this.setState({\n        twitter: socialmedia.twitter,\n        facebook: socialmedia.facebook,\n        instagram: socialmedia.instagram,\n        website: socialmedia.website\n      });\n    };\n\n    _this.sendBioForm = function (bio) {\n      _this.setState({\n        bio: bio\n      });\n    };\n\n    _this.sendPackageField = function (fieldname, value) {\n      _this.setState(function (prevState) {\n        var packages = prevState.packages;\n\n        var _fieldname$split = fieldname.split('_'),\n            _fieldname$split2 = _slicedToArray(_fieldname$split, 2),\n            realName = _fieldname$split2[0],\n            packageIndex = _fieldname$split2[1];\n\n        if (packages[packageIndex]) {\n          packages[packageIndex][realName] = value;\n        } else {\n          packages[packageIndex] = _defineProperty({}, realName, value);\n        }\n\n        return {\n          packages: packages\n        };\n      });\n    };\n\n    _this.changeFeaturePhotos = function (clickedPhotoSrc, clickedPhotoFeature) {\n      if (_this.state.numOfFeatured < 10) {\n        _this.setState({\n          featuredError: false\n        });\n\n        axios.post(\"/artists/:id/editfeatured\", {\n          currentUser: _this.props.currentUser,\n          clickedPhotoSrc: clickedPhotoSrc,\n          clickedPhotoFeature: clickedPhotoFeature\n        }).then(function (res) {\n          var newCollection = res.data.images;\n\n          _this.setState({\n            collection: newCollection\n          });\n        });\n      } else {\n        _this.setState({\n          featuredError: true\n        });\n      }\n    };\n\n    _this.handleUpload = function (event) {\n      event.preventDefault();\n      var selectedFile = _this.state.selectedFile;\n      var formData = new FormData();\n      formData.append('image_owner', _this.state.artistId);\n      formData.append('description', _this.state.description);\n      formData.append('category', _this.state.category);\n      formData.append('title', _this.state.title);\n      formData.append('selectedFile', selectedFile);\n\n      _this.setState({\n        image_owner: '',\n        title: '',\n        description: '',\n        category: ''\n      });\n\n      axios.post('/upload', formData).then(function (result) {\n        _this.setState({\n          collection: result.data.images\n        });\n      }).catch(function (response) {\n        console.log(response);\n      });\n    };\n\n    _this.handleFormInput = function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleFileSelect = function (event) {\n      switch (event.target.name) {\n        case 'selectedFile':\n          _this.setState({\n            selectedFile: event.target.files[0]\n          });\n\n          break;\n\n        default:\n          _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      }\n    };\n\n    _this.state = {\n      artist: {},\n      photoView: 'featured',\n      editable: false,\n      uploadStatus: false,\n      errorMsg: false,\n      featuredError: false\n    };\n    _this.addCarouselPhotos = _this.addCarouselPhotos.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.areFeaturedPhotos = _this.areFeaturedPhotos.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeShowState = _this.changeShowState.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderTabsContent = _this.renderTabsContent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClickEdit = _this.handleClickEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendSocialMediaForm = _this.sendSocialMediaForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendBioForm = _this.sendBioForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendPackageField = _this.sendPackageField.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeFeaturePhotos = _this.changeFeaturePhotos.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createReview = _this.createReview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteReview = _this.deleteReview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFileSelect = _this.handleFileSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFormInput = _this.handleFormInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.refreshApplybutton = _this.refreshApplybutton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"areFeaturedPhotos\",\n    value: function areFeaturedPhotos() {\n      var photos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      // TypeError: photos.filter is not a function\n      return photos.filter(function (photo) {\n        return photo.featured.includes(\"true\");\n      });\n    }\n  }, {\n    key: \"addCarouselPhotos\",\n    value: function addCarouselPhotos() {\n      var photos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var filteredPhotos = this.areFeaturedPhotos(photos);\n      return filteredPhotos.map(function (photo) {\n        return React.createElement(\"div\", {\n          className: \"sliderImg\",\n          key: photo.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"900x500\",\n          src: photo.src,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }));\n      });\n    } // MANAGES SETTING STATE OF TAB TITLES:  PORTFOLIO, FEATURED PHOTOS, APPLIED EVENTS, STATISTICS\n\n  }, {\n    key: \"changeShowState\",\n    value: function changeShowState(event) {\n      if (event.target.innerHTML === 'Featured Photos') {\n        this.setState({\n          photoView: \"featured\"\n        });\n      } else if (event.target.innerHTML === 'Portfolio') {\n        this.setState({\n          photoView: \"portfolio\"\n        });\n      } else if (event.target.innerHTML === 'Applied Events') {\n        this.setState({\n          photoView: \"events\"\n        });\n      } else {\n        this.setState({\n          photoView: \"statistics\"\n        });\n      }\n    } // MANAGES DELETED APPLICATIONS TO EVENTS\n\n  }, {\n    key: \"refreshApplybutton\",\n    value: function refreshApplybutton() {\n      var _this2 = this;\n\n      axios.get(\"/api/opportunities/applied/\".concat(this.props.currentUser)).then(function (res) {\n        var appliedevent = res.data;\n        var applied_eventid = [];\n        appliedevent.forEach(function (i) {\n          applied_eventid.push(i.eventref_id);\n        });\n\n        _this2.setState({\n          appliedopportunities: applied_eventid,\n          applicationsent: false\n        });\n      });\n    } // MANAGES RENDER OF TABBED CONTENTS: PORTFOLIO, FEATURED PHOTOS, APPLIED EVENTS, STATISTICS\n\n  }, {\n    key: \"renderTabsContent\",\n    value: function renderTabsContent(state) {\n      var settings = {\n        infinite: true,\n        centerMode: true,\n        slidesToShow: 3,\n        slidesToScroll: 1,\n        rows: 1,\n        autoplay: true,\n        focusOnSelect: true\n      };\n\n      if (state === \"portfolio\") {\n        return React.createElement(\"div\", {\n          className: \"portfolioContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"PORTFOLIO\"), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }), React.createElement(Portfolio, {\n          artistPhotos: this.state.collection,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }));\n      } else if (state === \"featured\") {\n        return React.createElement(\"div\", {\n          className: \"featuredContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"FEATURED\"), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }), this.numOfFeatured !== 0 ? React.createElement(Slider, Object.assign({}, settings, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }), this.addCarouselPhotos(this.state.collection)) : React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"This artist has no featured photos.\"));\n      } else if (state === 'events') {\n        return React.createElement(\"div\", {\n          className: \"eventsContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"APPLIED EVENTS\"), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }), React.createElement(OpportunitiesApplied, {\n          refreshApplybutton: this.refreshApplybutton,\n          usertype: this.props.usertype,\n          currentUser: this.props.currentUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"statisticsContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"STATISTICS\"), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }), React.createElement(Statistics, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }));\n      }\n    }\n  }, {\n    key: \"createReview\",\n    value: function createReview(rating, review, artist, user) {\n      var _this3 = this;\n\n      axios.post(\"/artists/:id/newreview\", {\n        rating: rating,\n        description: review,\n        artist_id: artist,\n        user_id: user\n      }).then(function (res) {\n        var newReviews = res.data.reverse();\n\n        _this3.setState({\n          reviews: newReviews\n        });\n      });\n    }\n  }, {\n    key: \"deleteReview\",\n    value: function deleteReview(review) {\n      var _this4 = this;\n\n      var artist_id = review.artist_id;\n      var review_id = review.review_id;\n      axios.post(\"/artists/\".concat(artist_id, \"/reviews/\").concat(review_id), {\n        review_id: review_id,\n        artist_id: artist_id\n      }).then(function (res) {\n        var newReviews = res.data.reverse();\n\n        _this4.setState({\n          reviews: newReviews\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this5 = this;\n\n      if (this.props.location.pathname.includes(\"/editprofile\") && Number(this.props.currentUser) === Number(this.props.match.params.id)) {\n        this.setState({\n          editable: true\n        });\n      }\n\n      var id = this.props.match.params.id;\n      this.setState({\n        artistId: id\n      });\n      axios.get(\"/artists/\".concat(id), {\n        params: {\n          artistId: id,\n          currentUser: this.props.currentUser\n        }\n      }).then(function (res) {\n        var avatarImage = res.data.user[0].profile_image;\n\n        if (avatarImage === null) {\n          avatarImage = '/images/default_avatar.png';\n        }\n\n        var profileData = {\n          collection: res.data.images,\n          packages: res.data.packages,\n          bio: res.data.user[0].bio,\n          fullName: res.data.user[0].first_name + ' ' + res.data.user[0].last_name,\n          avatarImage: avatarImage,\n          twitter: res.data.user[0].twitter_url,\n          facebook: res.data.user[0].facebook_url,\n          instagram: res.data.user[0].instagram_url,\n          website: res.data.user[0].website_url,\n          reviews: res.data.reviews,\n          email: res.data.user[0].email,\n          redirect: true\n        };\n\n        _this5.setState(profileData);\n      });\n    }\n  }, {\n    key: \"handleClickEdit\",\n    value: function handleClickEdit() {\n      if (this.state.editable === false) {\n        this.setState({\n          editable: true\n        });\n        this.props.handleProfileEditPath(\"artists/\".concat(this.props.currentUser, \"/editprofile\"));\n      } else {\n        this.setState({\n          editable: false\n        });\n        this.props.handleProfileEditPath(\"artists/\".concat(this.props.currentUser));\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this6 = this;\n\n      if (this.state.packages.length < 3) {\n        event.preventDefault();\n        this.setState({\n          errorMsg: true\n        });\n      } else {\n        this.props.handleProfileEditPath(\"artists/\".concat(this.props.currentUser));\n        var submitData = {\n          packages: this.state.packages,\n          twitter: this.state.twitter,\n          facebook: this.state.facebook,\n          instagram: this.state.instagram,\n          website: this.state.website,\n          bio: this.state.bio,\n          errorMsg: false\n        };\n        axios.post(\"/artists/\".concat(this.state.artistId, \"/edit\"), {\n          artistId: this.state.artistId,\n          submitData: submitData\n        }).then(function (res) {\n          _this6.setState({\n            packages: res.data.packages,\n            twitter: res.data[0].twitter_url,\n            facebook: res.data[0].facebook_url,\n            instagram: res.data[0].instagram_url,\n            website: res.data[0].website_url,\n            bio: res.data[0].bio\n          });\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var id = this.props.match.params.id;\n      this.numOfFeatured = this.areFeaturedPhotos(this.state.collection);\n      return React.createElement(\"div\", {\n        className: \"contentWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, this.state.editable ? React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"avatarSocMedEdit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        name: this.state.fullName,\n        avatar: this.state.avatarImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }), React.createElement(EditSocialMedia, {\n        twitter: this.state.twitter,\n        facebook: this.state.facebook,\n        instagram: this.state.instagram,\n        website: this.state.website,\n        sendSocialMediaForm: this.sendSocialMediaForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }), this.props.currentUser === id ? React.createElement(\"button\", {\n        className: \"editButton\",\n        onClick: this.handleClickEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, this.state.editable ? \"Return\" : \"Edit\") : '', React.createElement(\"input\", {\n        className: \"submitButton\",\n        type: \"submit\",\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"personalDetContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, \"ABOUT\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }), React.createElement(EditProfileDesc, {\n        bio: this.state.bio,\n        sendBioForm: this.sendBioForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"outerUploadContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, \"Add Portfolio Images\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"uploadContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        method: \"post\",\n        enctype: \"multipart/form-data\",\n        action: \"/upload\",\n        onSubmit: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        name: \"image_owner\",\n        value: this.state.artistId,\n        className: \"hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Add a title for your image\",\n        value: this.state.title,\n        onChange: this.handleFormInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"descInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"descLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"textarea\", {\n        name: \"description\",\n        placeholder: \"Add a description for your image\",\n        onChange: this.handleFormInput,\n        value: this.state.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"Category\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        placeholder: \"Add applicable categories for your image\",\n        onChange: this.handleFormInput,\n        value: this.state.category,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"file\",\n        type: \"file\",\n        accept: \"image/*\",\n        name: \"selectedFile\",\n        onChange: this.handleFileSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"upload\",\n        type: \"submit\",\n        value: \"Upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"featuredPortfolio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"Select Feature Photos (\", this.numOfFeatured.length, \"/10):\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, React.createElement(EditPortfolio, {\n        changeFeaturePhotos: this.changeFeaturePhotos,\n        artistPhotos: this.state.collection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"dropDownMenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(AvailabilityCard, {\n        currentUser: this.props.currentUser,\n        disabledDays: this.state.disabledDays,\n        artistId: this.state.artistId,\n        editable: this.state.editable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }), React.createElement(EditPackagesCard, {\n        packages: this.state.packages,\n        sendPackageField: this.sendPackageField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }))), this.state.errorMsg ? React.createElement(\"p\", {\n        className: \"packageError\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, \"Sorry, please enter details for 3 packages!\") : '') : React.createElement(\"div\", {\n        className: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"avatarSocMed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        name: this.state.fullName,\n        avatar: this.state.avatarImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }), this.props.currentUser === id ? null : React.createElement(\"span\", {\n        className: \"likeContact\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, React.createElement(MailButton, {\n        email: this.state.email,\n        name: this.props.currentUserName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), React.createElement(StarPhotographer, {\n        currentUser: this.props.currentUser,\n        artistId: id,\n        artistLiked: this.state.artistLiked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      })), React.createElement(SocialMedia, {\n        twitter: this.state.twitter,\n        facebook: this.state.facebook,\n        instagram: this.state.instagram,\n        website: this.state.website,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }), this.props.currentUser === id ? React.createElement(\"button\", {\n        className: \"editButton\",\n        onClick: this.handleClickEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, this.state.editable ? \"Return\" : \"Edit\") : ''), React.createElement(\"div\", {\n        className: \"personalDetContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      }, \"ABOUT\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }), React.createElement(ProfileDesc, {\n        bio: this.state.bio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"featuredPortfolio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"toggleOn\",\n        onClick: this.changeShowState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, \"Featured Photos\"), React.createElement(\"button\", {\n        className: \"toggleOn\",\n        onClick: this.changeShowState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, \"Portfolio\"), this.state.artistId === this.props.currentUser ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"toggleOn\",\n        onClick: this.changeShowState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, \"Applied Events\"), React.createElement(\"button\", {\n        className: \"toggleOn\",\n        onClick: this.changeShowState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, \"Statistics\")) : '', React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }), this.renderTabsContent(this.state.photoView)), React.createElement(\"div\", {\n        className: \"dropDownMenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      }, React.createElement(AvailabilityCard, {\n        currentUser: this.props.currentUser,\n        disabledDays: this.state.disabledDays,\n        artistId: this.state.artistId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506\n        },\n        __self: this\n      }), React.createElement(PackagesCard, {\n        packages: this.state.packages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }), React.createElement(ReviewsCard, {\n        reviews: this.state.reviews,\n        currentUser: this.props.currentUser,\n        artistId: this.state.artistId,\n        deleteReview: this.deleteReview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }), this.props.currentUser !== this.state.artistId && this.props.usertype === 2 ? React.createElement(AddReview, {\n        currentUser: this.props.currentUser,\n        artistId: this.state.artistId,\n        createReview: this.createReview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }) : '')));\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nexport default Profile;","map":{"version":3,"sources":["/vagrant/week8/exposure/exposure-final/src/Profile.jsx"],"names":["React","Portfolio","EditPortfolio","Avatar","Slider","axios","SocialMedia","EditSocialMedia","ProfileDesc","EditProfileDesc","ReviewsCard","AvailabilityCard","PackagesCard","EditPackagesCard","StarPhotographer","AddReview","OpportunitiesApplied","Statistics","MailButton","props","email","name","Profile","sendSocialMediaForm","socialmedia","twitter","facebook","instagram","website","setState","sendBioForm","bio","sendPackageField","fieldname","value","prevState","packages","split","realName","packageIndex","changeFeaturePhotos","clickedPhotoSrc","clickedPhotoFeature","state","numOfFeatured","featuredError","post","currentUser","then","res","newCollection","data","images","collection","handleUpload","event","preventDefault","selectedFile","formData","FormData","append","artistId","description","category","title","image_owner","result","catch","response","console","log","handleFormInput","target","handleFileSelect","files","artist","photoView","editable","uploadStatus","errorMsg","addCarouselPhotos","bind","areFeaturedPhotos","changeShowState","renderTabsContent","handleClickEdit","handleSubmit","createReview","deleteReview","refreshApplybutton","photos","filter","photo","featured","includes","filteredPhotos","map","id","src","innerHTML","get","appliedevent","applied_eventid","forEach","i","push","eventref_id","appliedopportunities","applicationsent","settings","infinite","centerMode","slidesToShow","slidesToScroll","rows","autoplay","focusOnSelect","usertype","rating","review","user","artist_id","user_id","newReviews","reverse","reviews","review_id","location","pathname","Number","match","params","avatarImage","profile_image","profileData","fullName","first_name","last_name","twitter_url","facebook_url","instagram_url","website_url","redirect","handleProfileEditPath","length","submitData","err","disabledDays","currentUserName","artistLiked","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Portfolio from './components/Portfolio';\nimport EditPortfolio from './components/Profile_Portfolio_Edit';\nimport Avatar from './components/Avatar.jsx';\nimport Slider from \"react-slick\";\nimport axios from 'axios';\nimport SocialMedia from './components/Profile_SocialMedia.jsx';\nimport EditSocialMedia from './components/Profile_SocialMedia_Edit';\nimport ProfileDesc from './components/Profile_Desc.jsx';\nimport EditProfileDesc from './components/Profile_Desc_Edit.jsx';\nimport ReviewsCard from './components/Profile_Reviews.jsx';\nimport AvailabilityCard from './components/Profile_Availability.jsx';\nimport PackagesCard from './components/Profile_Packages.jsx';\nimport EditPackagesCard from './components/Profile_Packages_Edit.jsx';\nimport StarPhotographer from './components/Profile_Star.jsx';\nimport AddReview from './components/AddReview.jsx';\nimport OpportunitiesApplied from './Opportunities_Applied';\nimport Statistics from './components/Statistics';\nimport './styles/Profile.css';\nimport './styles/SearchResults.css';\n\nfunction MailButton(props) {\n  return (\n    <button className=\"contactMe\">\n      <a href={`mailto:${props.email}?subject=${props.name} would like to book you for a photoshoot.`}>\n        Contact Me\n      </a>\n    </button>\n  )\n}\n\nclass Profile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      artist: {},\n      photoView: 'featured',\n      editable: false,\n      uploadStatus: false,\n      errorMsg: false,\n      featuredError: false\n    }\n\n    this.addCarouselPhotos = this.addCarouselPhotos.bind(this);\n    this.areFeaturedPhotos = this.areFeaturedPhotos.bind(this);\n    this.changeShowState = this.changeShowState.bind(this);\n    this.renderTabsContent = this.renderTabsContent.bind(this);\n    this.handleClickEdit = this.handleClickEdit.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.sendSocialMediaForm = this.sendSocialMediaForm.bind(this);\n    this.sendBioForm = this.sendBioForm.bind(this);\n    this.sendPackageField = this.sendPackageField.bind(this);\n    this.changeFeaturePhotos = this.changeFeaturePhotos.bind(this);\n    this.createReview = this.createReview.bind(this);\n    this.deleteReview = this.deleteReview.bind(this);\n    this.handleFileSelect = this.handleFileSelect.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.handleFormInput = this.handleFormInput.bind(this);\n    this.refreshApplybutton = this.refreshApplybutton.bind(this);\n  }\n\n  areFeaturedPhotos(photos = []) {\n    // TypeError: photos.filter is not a function\n    return photos.filter(photo => photo.featured.includes(\"true\"));\n  }\n\n  addCarouselPhotos(photos = []) {\n    let filteredPhotos = this.areFeaturedPhotos(photos);\n\n    return filteredPhotos.map(function (photo) {\n      return (\n        <div className=\"sliderImg\" key={photo.id}>\n          <img alt=\"900x500\" src={photo.src} />\n        </div>\n      )\n    });\n  }\n\n// MANAGES SETTING STATE OF TAB TITLES:  PORTFOLIO, FEATURED PHOTOS, APPLIED EVENTS, STATISTICS\n  changeShowState(event){\n    if (event.target.innerHTML === 'Featured Photos') {\n      this.setState({ photoView: \"featured\" })\n    } else if (event.target.innerHTML === 'Portfolio') {\n      this.setState({ photoView: \"portfolio\" })\n    } else if (event.target.innerHTML === 'Applied Events') {\n      this.setState({ photoView: \"events\" })\n    } else {\n      this.setState({ photoView: \"statistics\" })\n    }\n  }\n\n\n// MANAGES DELETED APPLICATIONS TO EVENTS\n  refreshApplybutton() {\n    axios.get(`/api/opportunities/applied/${this.props.currentUser}`)\n        .then(res => {\n          let appliedevent = res.data\n          let applied_eventid = []\n\n          appliedevent.forEach((i) => {\n            applied_eventid.push(i.eventref_id)\n          })\n      this.setState({\n        appliedopportunities: applied_eventid,\n        applicationsent: false\n      })\n    })\n  }\n\n// MANAGES RENDER OF TABBED CONTENTS: PORTFOLIO, FEATURED PHOTOS, APPLIED EVENTS, STATISTICS\n  renderTabsContent(state) {\n    const settings = {\n      infinite: true,\n      centerMode: true,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      rows: 1,\n      autoplay: true,\n      focusOnSelect: true,\n    };\n\n    if (state === \"portfolio\") {\n      return(\n        <div className=\"portfolioContainer\">\n          <h1>PORTFOLIO</h1>\n          <hr/>\n          <Portfolio artistPhotos={this.state.collection} />\n        </div>\n      )\n    } else if (state === \"featured\") {\n      return(\n        <div className=\"featuredContainer\">\n          <h1>FEATURED</h1>\n          <hr/>\n          {this.numOfFeatured !== 0 ? <Slider {...settings}>\n            {this.addCarouselPhotos(this.state.collection)}\n          </Slider> : <p>This artist has no featured photos.</p>}\n\n        </div>\n      )\n    } else if (state === 'events') {\n      return (\n        <div className=\"eventsContainer\">\n          <h1>APPLIED EVENTS</h1>\n          <hr/>\n          <OpportunitiesApplied refreshApplybutton={this.refreshApplybutton}usertype={this.props.usertype} currentUser={this.props.currentUser}/>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"statisticsContainer\">\n          <h1>STATISTICS</h1>\n          <hr/>\n          <Statistics />\n        </div>\n      )\n    }\n  }\n\n  sendSocialMediaForm = (socialmedia) => {\n    if (!socialmedia.twitter) {\n      socialmedia.twitter = 'null'\n    } else if (!socialmedia.facebook) {\n      socialmedia.facebook = 'null'\n    } else if (!socialmedia.instagram) {\n      socialmedia.instagram = 'null'\n    } else if (!socialmedia.website) {\n      socialmedia.website = 'null'\n    }\n\n    this.setState({\n      twitter: socialmedia.twitter,\n      facebook: socialmedia.facebook,\n      instagram: socialmedia.instagram,\n      website: socialmedia.website\n    });\n  }\n\n  sendBioForm = (bio) => {\n    this.setState({\n      bio: bio\n    })\n  }\n\n  sendPackageField = (fieldname, value) => {\n    this.setState((prevState) => {\n      let packages = prevState.packages;\n\n      let [realName, packageIndex] = fieldname.split('_');\n      if (packages[packageIndex]) {\n        packages[packageIndex][realName] = value;\n      } else {\n        packages[packageIndex] = {\n          [realName]: value\n        }\n      }\n      return { packages };\n    });\n  }\n\n  changeFeaturePhotos = (clickedPhotoSrc, clickedPhotoFeature) => {\n\n    if (this.state.numOfFeatured < 10) {\n      this.setState({featuredError: false});\n      axios.post(\"/artists/:id/editfeatured\",\n        {\n          currentUser: this.props.currentUser,\n          clickedPhotoSrc: clickedPhotoSrc,\n          clickedPhotoFeature: clickedPhotoFeature\n        })\n        .then(res => {\n          let newCollection = res.data.images;\n          this.setState({ collection: newCollection });\n        })\n    } else {\n      this.setState({featuredError: true});\n    }\n  }\n\n  createReview(rating, review, artist, user) {\n    axios.post(\"/artists/:id/newreview\",\n      {\n        rating: rating,\n        description: review,\n        artist_id: artist,\n        user_id: user\n      })\n      .then((res) => {\n        let newReviews = res.data.reverse();\n        this.setState({ reviews: newReviews });\n      });\n  }\n\n  deleteReview(review) {\n    let artist_id = review.artist_id;\n    let review_id = review.review_id;\n\n    axios.post(`/artists/${artist_id}/reviews/${review_id}`, { review_id, artist_id })\n      .then((res) => {\n        let newReviews = res.data.reverse();\n        this.setState({ reviews: newReviews });\n      })\n  }\n\n  componentDidMount() {\n\n    if (this.props.location.pathname.includes(\"/editprofile\") && Number(this.props.currentUser) === Number(this.props.match.params.id)) {\n      this.setState({editable: true});\n    }\n\n    const { id } = this.props.match.params;\n\n    this.setState({ artistId: id });\n\n    axios.get(`/artists/${id}`, {\n      params: {\n        artistId: id,\n        currentUser: this.props.currentUser\n      }\n    })\n      .then((res) => {\n        let avatarImage = res.data.user[0].profile_image;\n        if (avatarImage === null) {\n          avatarImage = '/images/default_avatar.png'\n        }\n        const profileData = {\n          collection: res.data.images,\n          packages: res.data.packages,\n          bio: res.data.user[0].bio,\n          fullName: res.data.user[0].first_name + ' ' + res.data.user[0].last_name,\n          avatarImage: avatarImage,\n          twitter: res.data.user[0].twitter_url,\n          facebook: res.data.user[0].facebook_url,\n          instagram: res.data.user[0].instagram_url,\n          website: res.data.user[0].website_url,\n          reviews: res.data.reviews,\n          email: res.data.user[0].email,\n          redirect: true\n        };\n        this.setState(profileData);\n      });\n  }\n\n  handleClickEdit() {\n    if (this.state.editable === false) {\n      this.setState({editable: true})\n      this.props.handleProfileEditPath(`artists/${this.props.currentUser}/editprofile`)\n    } else {\n      this.setState({editable: false})\n      this.props.handleProfileEditPath(`artists/${this.props.currentUser}`)\n    }\n  }\n\n  handleSubmit(event) {\n    if (this.state.packages.length < 3) {\n      event.preventDefault();\n      this.setState({errorMsg: true})\n    } else {\n      this.props.handleProfileEditPath(`artists/${this.props.currentUser}`);\n      let submitData = {\n        packages: this.state.packages,\n        twitter: this.state.twitter,\n        facebook: this.state.facebook,\n        instagram: this.state.instagram,\n        website: this.state.website,\n        bio: this.state.bio,\n        errorMsg: false\n      }\n\n      axios.post(`/artists/${this.state.artistId}/edit`,\n        {\n          artistId: this.state.artistId,\n          submitData: submitData\n        })\n        .then((res) => {\n          this.setState({\n            packages: res.data.packages,\n            twitter: res.data[0].twitter_url,\n            facebook: res.data[0].facebook_url,\n            instagram: res.data[0].instagram_url,\n            website: res.data[0].website_url,\n            bio: res.data[0].bio\n          })\n        })\n        .catch((err) => console.log(err))\n    }\n  }\n\n  handleUpload = (event) => {\n     event.preventDefault();\n      const { selectedFile } = this.state;\n      let formData = new FormData();\n\n      formData.append('image_owner', this.state.artistId);\n      formData.append('description', this.state.description);\n      formData.append('category', this.state.category);\n      formData.append('title', this.state.title);\n      formData.append('selectedFile', selectedFile);\n\n      this.setState({\n        image_owner: '',\n        title: '',\n        description: '',\n        category: ''});\n\n      axios.post('/upload', formData)\n        .then((result) => {\n          this.setState({collection: result.data.images});\n        })\n        .catch(function (response) {\n        console.log(response);\n    });\n  }\n\n  handleFormInput = (event) => {\n    event.preventDefault();\n    this.setState({[event.target.name]: event.target.value});\n  }\n\n  handleFileSelect = (event) => {\n   switch (event.target.name) {\n      case 'selectedFile':\n        this.setState({ selectedFile: event.target.files[0] });\n        break;\n      default:\n        this.setState({ [event.target.name]: event.target.value });\n    }\n  }\n\n  render() {\n    const { id } = this.props.match.params;\n\n    this.numOfFeatured = this.areFeaturedPhotos(this.state.collection);\n\n    return (\n      <div className=\"contentWrapper\">\n      {this.state.editable ? (\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"profile\">\n            <div className=\"avatarSocMedEdit\">\n              <Avatar name={this.state.fullName}\n                    avatar={this.state.avatarImage} />\n              <EditSocialMedia twitter={this.state.twitter}\n                               facebook={this.state.facebook}\n                               instagram={this.state.instagram}\n                               website={this.state.website}\n                               sendSocialMediaForm={this.sendSocialMediaForm} />\n              {this.props.currentUser === id ? (\n                <button className=\"editButton\" onClick={this.handleClickEdit}>\n                  {this.state.editable ? \"Return\" : \"Edit\"}\n                </button>\n              ) : (\n                ''\n              )}\n              <input className=\"submitButton\" type=\"submit\" value=\"Submit\" />\n            </div>\n            <div className=\"personalDetContainer\">\n              <h3>ABOUT</h3>\n              <hr/>\n              <EditProfileDesc bio={this.state.bio}\n                               sendBioForm={this.sendBioForm} />\n\n              </div>\n              <div className=\"outerUploadContainer\">\n              <h1>Add Portfolio Images</h1>\n              <hr/>\n              <div className=\"uploadContainer\">\n                <form method=\"post\" enctype=\"multipart/form-data\" action=\"/upload\" onSubmit={this.handleUpload}>\n                  <input type=\"number\"\n                         name=\"image_owner\"\n                         value={this.state.artistId}\n                         className=\"hidden\"/>\n                  <label>Title</label>\n                  <input type=\"text\"\n                         name=\"title\"\n                         placeholder=\"Add a title for your image\"\n                         value={this.state.title}\n                         onChange={this.handleFormInput}/><br/>\n                  <div className=\"descInput\">\n                  <label className=\"descLabel\">Description</label>\n                  <textarea name=\"description\"\n                            placeholder=\"Add a description for your image\"\n                            onChange={this.handleFormInput}\n                            value={this.state.description}/><br/>\n                  </div>\n                  <label>Category</label>\n                  <input type=\"text\"\n                         name=\"category\"\n                         placeholder=\"Add applicable categories for your image\"\n                         onChange={this.handleFormInput}\n                         value={this.state.category}/><br/>\n                  <input id=\"file\" type=\"file\" accept=\"image/*\" name=\"selectedFile\" onChange={this.handleFileSelect}/>\n                  <input id=\"upload\" type=\"submit\" value=\"Upload\"/>\n                </form>\n                </div>\n                </div>\n                <div className=\"featuredPortfolio\">\n                <h1>Select Feature Photos ({this.numOfFeatured.length}/10):</h1>\n                <hr/>\n                  <div>\n                    <EditPortfolio\n                      changeFeaturePhotos={this.changeFeaturePhotos}\n                      artistPhotos={this.state.collection} />\n                  </div>\n              </div>\n              <div className=\"dropDownMenu\">\n              <AvailabilityCard currentUser={this.props.currentUser}\n                disabledDays={this.state.disabledDays}\n                artistId={this.state.artistId}\n                editable={this.state.editable} />\n              <EditPackagesCard packages={this.state.packages}\n                sendPackageField={this.sendPackageField}\n              /></div>\n            </div>\n            {this.state.errorMsg ? <p className=\"packageError\">Sorry, please enter details for 3 packages!</p> : ''}\n          </form>\n        ) : (\n          <div className=\"profile\">\n            <div className=\"avatarSocMed\" >\n              <Avatar name={this.state.fullName}\n                avatar={this.state.avatarImage} />\n                {this.props.currentUser === id ? null :\n                <span className=\"likeContact\">\n                  <MailButton email={this.state.email}\n                  name={this.props.currentUserName} />\n                  <StarPhotographer currentUser={this.props.currentUser}\n                          artistId={id}\n                          artistLiked={this.state.artistLiked} />\n                </span>}\n              <SocialMedia twitter={this.state.twitter}\n                           facebook={this.state.facebook}\n                           instagram={this.state.instagram}\n                           website={this.state.website} />\n                {this.props.currentUser === id ? (\n                <button className=\"editButton\" onClick={this.handleClickEdit}>\n                  {this.state.editable ? \"Return\" : \"Edit\"}\n                </button>\n              ) : (\n                ''\n              )}\n            </div>\n          <div className=\"personalDetContainer\">\n            <h3>ABOUT</h3>\n            <hr/>\n            <ProfileDesc bio={this.state.bio} />\n          </div>\n          {/* need to add highlighted button when on that photoview*/}\n          <div className=\"featuredPortfolio\">\n            <button className=\"toggleOn\" onClick={this.changeShowState}>\n              Featured Photos\n            </button>\n            <button className=\"toggleOn\" onClick={this.changeShowState}>\n              Portfolio\n            </button>\n            {this.state.artistId === this.props.currentUser ? <span><button className=\"toggleOn\" onClick={this.changeShowState}>\n              Applied Events\n            </button>\n            <button className=\"toggleOn\" onClick={this.changeShowState}>\n              Statistics\n            </button></span> : ''}\n            <hr/>\n            {this.renderTabsContent(this.state.photoView)}\n          </div>\n          <div className=\"dropDownMenu\">\n            <AvailabilityCard currentUser={this.props.currentUser}\n                              disabledDays={this.state.disabledDays}\n                              artistId={this.state.artistId} />\n            <PackagesCard packages={this.state.packages} />\n            <ReviewsCard reviews={this.state.reviews}\n                         currentUser={this.props.currentUser}\n                         artistId={this.state.artistId}\n                         deleteReview={this.deleteReview} />\n            {(this.props.currentUser !== this.state.artistId) && (this.props.usertype === 2) ? (\n          <AddReview currentUser={this.props.currentUser}\n                         artistId={this.state.artistId}\n                         createReview={this.createReview} />) : ''}\n          </div>\n        </div>)}\n      </div>\n    )\n  }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}