{"ast":null,"code":"import _classCallCheck from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/vagrant/week8/exposure/exposure-final/src/components/Availability.jsx\";\nimport React from 'react';\nimport DayPicker from 'react-day-picker';\nimport axios from 'axios';\nimport 'react-day-picker/lib/style.css';\n\nvar EditAvailability =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditAvailability, _React$Component);\n\n  function EditAvailability(props) {\n    var _this;\n\n    _classCallCheck(this, EditAvailability);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditAvailability).call(this, props));\n    _this.handleDayClick = _this.handleDayClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.formatDate = _this.formatDate.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.getFullYear = this.getFullYear.bind(this);\n\n    _this.state = {\n      selectedDay: null,\n      disabledDays: []\n    };\n    return _this;\n  }\n\n  _createClass(EditAvailability, [{\n    key: \"handleDayClick\",\n    value: function handleDayClick(day) {\n      var _this2 = this;\n\n      axios.post(\"/artists/\".concat(this.props.artistId, \"/editavailability\"), {\n        selectedDay: day\n      }).then(function (res) {\n        _this2.setState({\n          selectedDay: day,\n          disabledDays: res.data.date\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      axios.get(\"/artists/\".concat(this.props.artistId, \"/availability\")).then(function (res) {\n        _this3.setState({\n          disabledDays: res.data.date\n        });\n      });\n    } // formatDate(disabledDays=[]) {\n    //   // console.log(\"this is experiement\", this.getFullYear(this.state.disabledDays[0].date));\n    //   return disabledDays.map((day) => {\n    //     return new Date(day.date);\n    //   });\n    // }\n    // pushDateArray(formattedDates=[]) {\n    //   return formattedDates.map((date) => {\n    //     let year = date.getFullYear();\n    //     let month = date.getMonth() + 1;\n    //     let day = date.getDate();\n    //     return [year, month, day];\n    //   });\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      // this.formatDate(this.state.disabledDays);\n      // console.log(Array.isArray(this.state.disabledDays));\n      console.log(\"this is my function\", this.formatDate(this.state.disabledDays));\n      console.log(\"this is selectedday\"); // console.log(\"this is is dis abled dayssisiss\", this.state);\n      // console.log(\"this is experiement\", this.getFullYear(this.state.disabledDays[0].date));\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(DayPicker, {\n        onDayClick: this.handleDayClick,\n        selectedDays: this.state.selectedDay,\n        disabledDays: this.state.disabledDays,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), this.state.selectedDay ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"You clicked \", this.state.selectedDay.toLocaleDateString()) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Please select a day.\"));\n    }\n  }]);\n\n  return EditAvailability;\n}(React.Component);\n\nexport default EditAvailability;","map":{"version":3,"sources":["/vagrant/week8/exposure/exposure-final/src/components/Availability.jsx"],"names":["React","DayPicker","axios","EditAvailability","props","handleDayClick","bind","formatDate","state","selectedDay","disabledDays","day","post","artistId","then","res","setState","data","date","get","console","log","toLocaleDateString","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,gCAAP;;IAEMC,gB;;;;;AACJ,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,uDAAtB;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,uDAAlB,CAHiB,CAIjB;;AACA,UAAKE,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,YAAY,EAAE;AAFH,KAAb;AALiB;AASlB;;;;mCACcC,G,EAAK;AAAA;;AAClBT,MAAAA,KAAK,CAACU,IAAN,oBAAuB,KAAKR,KAAL,CAAWS,QAAlC,wBAA+D;AAACJ,QAAAA,WAAW,EAAEE;AAAd,OAA/D,EAAmFG,IAAnF,CAAwF,UAACC,GAAD,EAAS;AAC/F,QAAA,MAAI,CAACC,QAAL,CAAc;AAAEP,UAAAA,WAAW,EAAEE,GAAf;AAAoBD,UAAAA,YAAY,EAAEK,GAAG,CAACE,IAAJ,CAASC;AAA3C,SAAd;AACD,OAFD;AAGD;;;wCAEmB;AAAA;;AAClBhB,MAAAA,KAAK,CAACiB,GAAN,oBAAsB,KAAKf,KAAL,CAAWS,QAAjC,oBACEC,IADF,CACO,UAACC,GAAD,EAAS;AACZ,QAAA,MAAI,CAACC,QAAL,CAAc;AAACN,UAAAA,YAAY,EAAEK,GAAG,CAACE,IAAJ,CAASC;AAAxB,SAAd;AACD,OAHH;AAID,K,CAED;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;6BAES;AACP;AACA;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,KAAKd,UAAL,CAAgB,KAAKC,KAAL,CAAWE,YAA3B,CAAnC;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAJO,CAKP;AACA;;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,UAAU,EAAE,KAAKhB,cADnB;AAEE,QAAA,YAAY,EAAE,KAAKG,KAAL,CAAWC,WAF3B;AAGE,QAAA,YAAY,EAAE,KAAKD,KAAL,CAAWE,YAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAMG,KAAKF,KAAL,CAAWC,WAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAgB,KAAKD,KAAL,CAAWC,WAAX,CAAuBa,kBAAvB,EAAhB,CADD,GAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCATJ,CADF;AAcD;;;;EA9D4BtB,KAAK,CAACuB,S;;AAiErC,eAAepB,gBAAf","sourcesContent":["import React from 'react';\nimport DayPicker from 'react-day-picker';\nimport axios from 'axios';\n\nimport 'react-day-picker/lib/style.css';\n\nclass EditAvailability extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleDayClick = this.handleDayClick.bind(this);\n    this.formatDate = this.formatDate.bind(this);\n    // this.getFullYear = this.getFullYear.bind(this);\n    this.state = {\n      selectedDay: null,\n      disabledDays: []\n    };\n  }\n  handleDayClick(day) {\n    axios.post(`/artists/${this.props.artistId}/editavailability`, {selectedDay: day}).then((res) => {\n      this.setState({ selectedDay: day, disabledDays: res.data.date });\n    });\n  }\n\n  componentDidMount() {\n    axios.get(`/artists/${this.props.artistId}/availability`)\n     .then((res) => {\n        this.setState({disabledDays: res.data.date});\n      });\n  }\n\n  // formatDate(disabledDays=[]) {\n  //   // console.log(\"this is experiement\", this.getFullYear(this.state.disabledDays[0].date));\n  //   return disabledDays.map((day) => {\n  //     return new Date(day.date);\n  //   });\n  // }\n\n  // pushDateArray(formattedDates=[]) {\n  //   return formattedDates.map((date) => {\n  //     let year = date.getFullYear();\n  //     let month = date.getMonth() + 1;\n  //     let day = date.getDate();\n\n  //     return [year, month, day];\n  //   });\n  // }\n\n  render() {\n    // this.formatDate(this.state.disabledDays);\n    // console.log(Array.isArray(this.state.disabledDays));\n    console.log(\"this is my function\", this.formatDate(this.state.disabledDays));\n    console.log(\"this is selectedday\")\n    // console.log(\"this is is dis abled dayssisiss\", this.state);\n    // console.log(\"this is experiement\", this.getFullYear(this.state.disabledDays[0].date));\n    return (\n      <div>\n        <DayPicker\n          onDayClick={this.handleDayClick}\n          selectedDays={this.state.selectedDay}\n          disabledDays={this.state.disabledDays}\n        />\n        {this.state.selectedDay ? (\n          <p>You clicked {this.state.selectedDay.toLocaleDateString()}</p>\n        ) : (\n          <p>Please select a day.</p>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default EditAvailability\n"]},"metadata":{},"sourceType":"module"}