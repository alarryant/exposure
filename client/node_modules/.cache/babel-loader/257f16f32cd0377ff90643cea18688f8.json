{"ast":null,"code":"import _classCallCheck from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/vagrant/week8/exposure/exposure-final/src/Opportunities_Applied.jsx\";\nimport React, { Component } from 'react';\nimport AppCard from './components/Opportunity_AppliedCard.jsx';\nimport axios from 'axios'; //DISPLAY APPLIED OPPORTUNITIES\n\nvar AppliedCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AppliedCard, _Component);\n\n  function AppliedCard(props) {\n    var _this;\n\n    _classCallCheck(this, AppliedCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppliedCard).call(this, props));\n    _this.state = {\n      appliedopportunities: []\n    };\n    _this.displayAppliedEvents = _this.displayAppliedEvents.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteApplication = _this.deleteApplication.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AppliedCard, [{\n    key: \"deleteApplication\",\n    value: function deleteApplication(app_id) {\n      var _this2 = this;\n\n      axios.post(\"/api/opportunities/applied/\".concat(this.props.currentUser), {\n        application_id: app_id,\n        currentUser: this.props.currentUser\n      }).then(function (res) {\n        var updatedAppList = res.data;\n\n        _this2.setState({\n          appliedopportunities: updatedAppList\n        });\n      });\n      this.props.refreshApplybutton();\n    }\n  }, {\n    key: \"displayAppliedEvents\",\n    value: function displayAppliedEvents(events) {\n      var _this3 = this;\n\n      if (!events || events.length === 0) {\n        return React.createElement(\"p\", {\n          style: {\n            marginLeft: '10%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, \"You haven't applied to anything! Why not checkout the opportunities board? \");\n      } else {\n        return events.map(function (event) {\n          var date = event.event_date.toString().split('T')[0];\n          return React.createElement(AppCard, {\n            deleteApplication: _this3.deleteApplication,\n            event: event,\n            date: date,\n            usertype: _this3.props.usertype,\n            currentUser: _this3.props.currentUser,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      axios.get(\"/api/opportunities/applied/\".concat(this.props.currentUser)).then(function (res) {\n        _this4.setState({\n          'appliedopportunities': res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"oppHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \" Events You Applied To: \")), this.displayAppliedEvents(this.state.appliedopportunities.reverse()));\n    }\n  }]);\n\n  return AppliedCard;\n}(Component);\n\nexport default AppliedCard;","map":{"version":3,"sources":["/vagrant/week8/exposure/exposure-final/src/Opportunities_Applied.jsx"],"names":["React","Component","AppCard","axios","AppliedCard","props","state","appliedopportunities","displayAppliedEvents","bind","deleteApplication","app_id","post","currentUser","application_id","then","res","updatedAppList","data","setState","refreshApplybutton","events","length","marginLeft","map","event","date","event_date","toString","split","usertype","get","reverse"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,0CAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAGA;;IAEMC,W;;;;;AAEJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,oBAAoB,EAAE;AADX,KAAb;AAIA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,uDAA5B;AACA,UAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,uDAAzB;AARiB;AASlB;;;;sCAEiBE,M,EAAQ;AAAA;;AACxBR,MAAAA,KAAK,CAACS,IAAN,sCAAyC,KAAKP,KAAL,CAAWQ,WAApD,GAAmE;AACjEC,QAAAA,cAAc,EAAEH,MADiD;AAEjEE,QAAAA,WAAW,EAAE,KAAKR,KAAL,CAAWQ;AAFyC,OAAnE,EAICE,IAJD,CAIM,UAACC,GAAD,EAAS;AACb,YAAIC,cAAc,GAAGD,GAAG,CAACE,IAAzB;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AAACZ,UAAAA,oBAAoB,EAAEU;AAAvB,SAAd;AACD,OAPD;AAQE,WAAKZ,KAAL,CAAWe,kBAAX;AACH;;;yCAEoBC,M,EAAQ;AAAA;;AAC3B,UAAI,CAACA,MAAD,IAAWA,MAAM,CAACC,MAAP,KAAkB,CAAjC,EAAqC;AACnC,eACE;AAAG,UAAA,KAAK,EAAE;AAACC,YAAAA,UAAU,EAAC;AAAZ,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFADF;AAED,OAHD,MAGO;AACL,eAAOF,MAAM,CAACG,GAAP,CAAW,UAACC,KAAD,EAAW;AAC3B,cAAIC,IAAI,GAAGD,KAAK,CAACE,UAAN,CAAiBC,QAAjB,GAA4BC,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAX;AACA,iBACE,oBAAC,OAAD;AAAS,YAAA,iBAAiB,EAAE,MAAI,CAACnB,iBAAjC;AAAoD,YAAA,KAAK,EAAEe,KAA3D;AAAkE,YAAA,IAAI,EAAEC,IAAxE;AAA8E,YAAA,QAAQ,EAAE,MAAI,CAACrB,KAAL,CAAWyB,QAAnG;AAA6G,YAAA,WAAW,EAAE,MAAI,CAACzB,KAAL,CAAWQ,WAArI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAGD,SALM,CAAP;AAMD;AACF;;;wCAEmB;AAAA;;AAClBV,MAAAA,KAAK,CAAC4B,GAAN,sCAAwC,KAAK1B,KAAL,CAAWQ,WAAnD,GACGE,IADH,CACQ,UAAAC,GAAG,EAAI;AACX,QAAA,MAAI,CAACG,QAAL,CAAc;AAAC,kCAAwBH,GAAG,CAACE;AAA7B,SAAd;AACH,OAHD;AAID;;;6BAES;AACR,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,CADF,EAIG,KAAKV,oBAAL,CAA0B,KAAKF,KAAL,CAAWC,oBAAX,CAAgCyB,OAAhC,EAA1B,CAJH,CADF;AAQD;;;;EAvDuB/B,S;;AA0D1B,eAAeG,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport AppCard from './components/Opportunity_AppliedCard.jsx';\nimport axios from 'axios';\n\n\n//DISPLAY APPLIED OPPORTUNITIES\n\nclass AppliedCard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      appliedopportunities: [],\n    };\n\n    this.displayAppliedEvents = this.displayAppliedEvents.bind(this)\n    this.deleteApplication = this.deleteApplication.bind(this)\n  }\n\n  deleteApplication(app_id) {\n    axios.post(`/api/opportunities/applied/${this.props.currentUser}`, {\n      application_id: app_id,\n      currentUser: this.props.currentUser\n    })\n    .then((res) => {\n      let updatedAppList = res.data;\n      this.setState({appliedopportunities: updatedAppList});\n    });\n      this.props.refreshApplybutton()\n  }\n\n  displayAppliedEvents(events) {\n    if (!events || events.length === 0 ) {\n      return (\n        <p style={{marginLeft:'10%'}}>You haven't applied to anything! Why not checkout the opportunities board? </p> )\n    } else {\n      return events.map((event) => {\n        let date = event.event_date.toString().split('T')[0]\n        return (\n          <AppCard deleteApplication={this.deleteApplication} event={event} date={date} usertype={this.props.usertype} currentUser={this.props.currentUser}/>\n          )\n      })\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`/api/opportunities/applied/${this.props.currentUser}`)\n      .then(res => {\n        this.setState({'appliedopportunities': res.data })\n    });\n  }\n\n  render () {\n    return (\n      <section>\n        <div className=\"oppHeader\">\n          <h2> Events You Applied To: </h2>\n        </div>\n        {this.displayAppliedEvents(this.state.appliedopportunities.reverse())}\n      </section>\n      )\n  }\n}\n\nexport default AppliedCard;\n"]},"metadata":{},"sourceType":"module"}