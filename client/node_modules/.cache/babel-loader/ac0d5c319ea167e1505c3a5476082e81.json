{"ast":null,"code":"import _classCallCheck from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/vagrant/week8/exposure/exposure-final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/vagrant/week8/exposure/exposure-final/src/components/Opportunity_MyEvents_Applicants.jsx\";\nimport React, { Component } from 'react';\nimport MyApplicantCard from './Opportunity_MyEventApplicantCard.jsx';\nimport axios from 'axios'; //DISPLAY FOR USER'S CREATED EVENT\n\nvar Applicants =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Applicants, _Component);\n\n  function Applicants(props) {\n    var _this;\n\n    _classCallCheck(this, Applicants);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Applicants).call(this, props));\n    _this.state = {\n      applicants: []\n    };\n    _this.displayApplicants = _this.displayApplicants.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.acceptApplicant = _this.acceptApplicant.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Applicants, [{\n    key: \"acceptApplicant\",\n    value: function acceptApplicant(artistid, eventid) {\n      var _this2 = this;\n\n      axios.post(\"/opportunities/\".concat(eventid, \"/accept\"), {\n        event_id: eventid,\n        artistid: artistid,\n        currentUser: this.props.currentUser\n      }).then(function (res) {\n        _this2.setState({\n          applicants: res.data\n        });\n      });\n      this.props.refresh();\n    }\n  }, {\n    key: \"displayApplicants\",\n    value: function displayApplicants(applicants) {\n      var _this3 = this;\n\n      if (!applicants || applicants.length === 0) {\n        return React.createElement(\"td\", {\n          colspan: \"4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, \" No one has applied to your events yet!\");\n      } else {\n        return applicants.map(function (applicant) {\n          var date = applicant.event_date.toString().split('T')[0];\n          return React.createElement(MyApplicantCard, {\n            key: applicant.application_id,\n            applicant: applicant,\n            date: date,\n            currentUser: _this3.props.currentUser,\n            acceptApplicant: _this3.acceptApplicant,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      axios.get(\"/api/opportunities/\".concat(this.props.currentUser, \"/applicants\")).then(function (res) {\n        _this4.setState({\n          applicants: res.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" LIST OF APPLICANTS \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" Total number of applications to review: \", this.state.applicants.length, \" \"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Your Event\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Event Date\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Filled?\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Applicant \"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Applicant's Email \"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Applicant's Profile\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Accept\")), this.displayApplicants(this.state.applicants))));\n    }\n  }]);\n\n  return Applicants;\n}(Component);\n\nexport default Applicants;","map":{"version":3,"sources":["/vagrant/week8/exposure/exposure-final/src/components/Opportunity_MyEvents_Applicants.jsx"],"names":["React","Component","MyApplicantCard","axios","Applicants","props","state","applicants","displayApplicants","bind","acceptApplicant","artistid","eventid","post","event_id","currentUser","then","res","setState","data","refresh","length","map","applicant","date","event_date","toString","split","application_id","get"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MyApplicantCard from './Opportunity_MyEventApplicantCard.jsx';\nimport axios from 'axios'\n\n\n//DISPLAY FOR USER'S CREATED EVENT\n\nclass Applicants extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      applicants: []\n    }\n\n    this.displayApplicants = this.displayApplicants.bind(this)\n    this.acceptApplicant = this.acceptApplicant.bind(this)\n  }\n\n  acceptApplicant(artistid, eventid){\n   axios.post(`/opportunities/${eventid}/accept`,\n        { event_id: eventid,\n          artistid: artistid,\n          currentUser: this.props.currentUser })\n      .then((res) => {\n        this.setState({ applicants: res.data })\n      })\n      this.props.refresh()\n\n  }\n\n  displayApplicants(applicants) {\n    if (!applicants || applicants.length === 0 ) {\n      return (\n         <td colspan=\"4\"> No one has applied to your events yet!</td> )\n    } else {\n      return applicants.map((applicant) => {\n        let date = applicant.event_date.toString().split('T')[0]\n        return (\n          <MyApplicantCard\n              key={applicant.application_id}\n              applicant={applicant}\n              date={date}\n              currentUser={this.props.currentUser}\n              acceptApplicant={this.acceptApplicant}\n              />\n        )\n      })\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`/api/opportunities/${this.props.currentUser}/applicants`)\n      .then(res => {\n        this.setState({ applicants: res.data })\n      })\n  }\n\nrender() {\n  return (\n    <div>\n      <h2> LIST OF APPLICANTS </h2>\n      <p> Total number of applications to review: {this.state.applicants.length} </p>\n     <table>\n     <tbody>\n      <tr>\n        <th scope=\"col\">Your Event</th>\n        <th scope=\"col\">Event Date</th>\n        <th scope=\"col\">Filled?</th>\n        <th scope=\"col\">Applicant </th>\n        <th scope=\"col\">Applicant's Email </th>\n        <th scope=\"col\">Applicant's Profile</th>\n        <th scope=\"col\">Accept</th>\n      </tr>\n      {this.displayApplicants(this.state.applicants) }\n      </tbody>\n      </table>\n    </div>\n    )\n  }\n}\n\n\nexport default Applicants;\n"]},"metadata":{},"sourceType":"module"}